vunit counter_properties (counter) {

    default clock = (posedge clk);

    // The counter resets when rst=1
    property reset_clears_count = (always (rst -> (Q == 8'd0)));
    assert reset_clears_count;

    // Increments by 1 while not at 128
    property count_increments = (always ({Q != MAX_COUNT} |=> {Q == prev(Q) + 1}) abort rst);
    assert count_increments;

    // Wraps from 128 to 0
    property count_wraps = (always ({Q == MAX_COUNT} |=> {Q == 8'd0}) abort rst);
    assert count_wraps;

    // Coverage: check if the wrap is reached
    property count_wrap_cover = {Q == MAX_COUNT; (Q == 8'd0)};
    cover count_wrap_cover;

}
